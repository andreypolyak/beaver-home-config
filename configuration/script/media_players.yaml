apple_tv_repeat:
  sequence:
    - service: remote.send_command
      data:
        entity_id: remote.living_room_apple_tv
        command: skip_backward

# PlayStation
playstation_turn_on:
  sequence:
    - service: media_player.turn_on
      data:
        entity_id: media_player.playstation_4

# TV
tv_turn_on:
  sequence:
    - service: remote.send_command
      data:
        entity_id: remote.living_room_apple_tv
        command: home
    - condition: state
      entity_id: binary_sensor.living_room_tv
      state: "off"
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_toggle

tv_turn_off:
  sequence:
    - service: media_player.turn_off
      data:
        entity_id: media_player.playstation_4
    - condition: not
      conditions:
      - condition: state
        entity_id: binary_sensor.living_room_tv
        state: "off"
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_toggle

tv_restart:
  sequence:
    - service: switch.turn_off
      data:
        entity_id: switch.living_room_tv_plug
    - delay: 00:00:01
    - service: switch.turn_on
      data:
        entity_id: switch.living_room_tv_plug

tv_source_mac_mini:
  sequence:
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_sources
    - delay:
        milliseconds: 2000
    - repeat:
        count: 9
        sequence:
          - service: switch.turn_on
            data:
              entity_id: switch.ir_tv_up
          - delay:
              milliseconds: 400
    - repeat:
        count: 8
        sequence:
          - service: switch.turn_on
            data:
              entity_id: switch.ir_tv_down
          - delay:
              milliseconds: 400
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_ok

tv_source_playstation_4:
  sequence:
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_sources
    - delay:
        milliseconds: 2000
    - repeat:
        count: 9
        sequence:
          - service: switch.turn_on
            data:
              entity_id: switch.ir_tv_up
          - delay:
              milliseconds: 400
    - repeat:
        count: 5
        sequence:
          - service: switch.turn_on
            data:
              entity_id: switch.ir_tv_down
          - delay:
              milliseconds: 400
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_ok

tv_source_apple_tv:
  sequence:
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_sources
    - delay:
        milliseconds: 2000
    - repeat:
        count: 9
        sequence:
          - service: switch.turn_on
            data:
              entity_id: switch.ir_tv_up
          - delay:
              milliseconds: 400
    - repeat:
        count: 7
        sequence:
          - service: switch.turn_on
            data:
              entity_id: switch.ir_tv_down
          - delay:
              milliseconds: 400
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_ok

tv_up:
  sequence:
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_up

tv_down:
  sequence:
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_down

tv_left:
  sequence:
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_left

tv_right:
  sequence:
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_right

tv_ok:
  sequence:
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_ok

tv_sources:
  sequence:
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_sources

tv_home:
  sequence:
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_home

tv_back:
  sequence:
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_back

tv_toggle:
  sequence:
    - service: switch.turn_on
      data:
        entity_id: switch.ir_tv_toggle

yandex_play_media:
  fields:
    media_entity_id:
      description: media_entity_id
      example: media_entity_id
    media_content_id:
      description: media_content_id
      example: media_content_id
    media_content_type:
      description: media_content_type
      example: media_content_type
  sequence:
    - service: media_player.play_media
      data:
        entity_id: >
          {{ media_entity_id }}
        media_content_id: >
          {{ media_content_id }}
        media_content_type: >
          {{ media_content_type }}
